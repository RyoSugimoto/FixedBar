var FixedBar=function(){"use strict";return class{constructor(e){if(this.isExpanded=!1,this.reverse=!1,this.revivalTimer=void 0,this.isClosedEternally=!1,this.freezed=!1,this.intersectionObserveOption={},"string"!=typeof e.bar)throw new Error("FixedBar: The property 'bar' must be required.");if(this.bar=document.querySelector(e.bar),!this.bar)throw new Error("FixedBar: The Element doesn't exist.");if(this.bar.setAttribute("data-fixed-bar",""),this._switchState(this.isExpanded),"string"!=typeof e.range)throw new Error("FixedBar: The property 'range' must be required.");if(this.ranges=document.querySelectorAll(e.range),!this.ranges||0===this.ranges.length)throw new Error("FixedBar: The range element is not found.");void 0!==e.reverse&&(this.reverse=e.reverse),void 0!==e.intersectionObserveOption&&(this.intersectionObserveOption=e.intersectionObserveOption),this.observer=new IntersectionObserver(this._observe.bind(this),this.intersectionObserveOption);for(let e=0;e<this.ranges.length;e++)this.observer.observe(this.ranges[e])}_observe(e){if(this.revivalTimer||this.isClosedEternally||this.freezed)return;let t=!1;for(let i=0;i<e.length;i++)if(e[i].isIntersecting){t=!0;break}!this.reverse&&t||this.reverse&&!t?this.open():this.close(0)}open(){this.isExpanded=!0,this._switchState(!0),this.isClosedEternally=!1,this.revivalTimer&&window.clearTimeout(this.revivalTimer)}close(e){this.isExpanded=!1,this._switchState(!1),"number"==typeof e&&0===e||("number"==typeof e&&e>0?this.revivalTimer=window.setTimeout((()=>{window.clearTimeout(this.revivalTimer),this.revivalTimer=void 0}),e):this.isClosedEternally=!0)}freeze(e=!0){e?this.open():this.close(),this.freezed=!0}restart(){this.freezed=!1}_switchState(e){var t,i,r,s,n;(null===(t=this.bar)||void 0===t||t.setAttribute("aria-hidden",String(!e)),e)?(null===(i=this.bar)||void 0===i||i.removeAttribute("hidden"),null===(r=this.bar)||void 0===r||r.removeAttribute("inert")):(null===(s=this.bar)||void 0===s||s.setAttribute("hidden",""),null===(n=this.bar)||void 0===n||n.setAttribute("inert",""))}}}();
